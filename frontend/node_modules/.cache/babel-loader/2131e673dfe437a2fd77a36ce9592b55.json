{"ast":null,"code":"import React,{Fragment,useEffect,useState}from\"react\";import\"./Products.css\";import{useSelector,useDispatch}from\"react-redux\";import{clearErrors,getProduct}from\"../../actions/productAction\";import Loader from\"../layout/Loader/Loader\";import ProductCard from\"../Home/ProductCard\";import Pagination from\"react-js-pagination\";import Slider from\"@material-ui/core/Slider\";import{useAlert}from\"react-alert\";import Typography from\"@material-ui/core/Typography\";import MetaData from\"../layout/MetaData\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const categories=[\"Laptop\",\"Footwear\",\"Bottom\",\"Tops\",\"Attire\",\"Camera\",\"SmartPhones\"];const Products=_ref=>{let{match}=_ref;const dispatch=useDispatch();const alert=useAlert();const[currentPage,setCurrentPage]=useState(1);const[price,setPrice]=useState([0,25000]);const[category,setCategory]=useState(\"\");const[ratings,setRatings]=useState(0);const{products,loading,error,productsCount,resultPerPage,filteredProductsCount}=useSelector(state=>state.products);const keyword=match.params.keyword;const setCurrentPageNo=e=>{setCurrentPage(e);};const priceHandler=(event,newPrice)=>{setPrice(newPrice);};let count=filteredProductsCount;useEffect(()=>{if(error){alert.error(error);dispatch(clearErrors());}dispatch(getProduct(keyword,currentPage,price,category,ratings));},[dispatch,keyword,currentPage,price,category,ratings,alert,error]);return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"PRODUCTS -- ECOMMERCE\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"productsHeading\",children:\"Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products&&products.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product._id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"filterBox\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Price\"}),/*#__PURE__*/_jsx(Slider,{value:price,onChange:priceHandler,valueLabelDisplay:\"auto\",\"aria-labelledby\":\"range-slider\",min:0,max:25000}),/*#__PURE__*/_jsx(Typography,{children:\"Categories\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"categoryBox\",children:categories.map(category=>/*#__PURE__*/_jsx(\"li\",{className:\"category-link\",onClick:()=>setCategory(category),children:category},category))}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(Typography,{component:\"legend\",children:\"Ratings Above\"}),/*#__PURE__*/_jsx(Slider,{value:ratings,onChange:(e,newRating)=>{setRatings(newRating);},\"aria-labelledby\":\"continuous-slider\",valueLabelDisplay:\"auto\",min:0,max:5})]})]}),resultPerPage<count&&/*#__PURE__*/_jsx(\"div\",{className:\"paginationBox\",children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage,itemsCountPerPage:resultPerPage,totalItemsCount:productsCount,onChange:setCurrentPageNo,nextPageText:\"Next\",prevPageText:\"Prev\",firstPageText:\"1st\",lastPageText:\"Last\",itemClass:\"page-item\",linkClass:\"page-link\",activeClass:\"pageItemActive\",activeLinkClass:\"pageLinkActive\"})})]})});};export default Products;","map":{"version":3,"names":["React","Fragment","useEffect","useState","useSelector","useDispatch","clearErrors","getProduct","Loader","ProductCard","Pagination","Slider","useAlert","Typography","MetaData","jsx","_jsx","jsxs","_jsxs","categories","Products","_ref","match","dispatch","alert","currentPage","setCurrentPage","price","setPrice","category","setCategory","ratings","setRatings","products","loading","error","productsCount","resultPerPage","filteredProductsCount","state","keyword","params","setCurrentPageNo","e","priceHandler","event","newPrice","count","children","title","className","map","product","_id","value","onChange","valueLabelDisplay","min","max","onClick","component","newRating","activePage","itemsCountPerPage","totalItemsCount","nextPageText","prevPageText","firstPageText","lastPageText","itemClass","linkClass","activeClass","activeLinkClass"],"sources":["C:/Users/acer/IdeaProjects/InvestPro/frontend/src/component/Product/Products.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\r\nimport \"./Products.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { clearErrors, getProduct } from \"../../actions/productAction\";\r\nimport Loader from \"../layout/Loader/Loader\";\r\nimport ProductCard from \"../Home/ProductCard\";\r\nimport Pagination from \"react-js-pagination\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport { useAlert } from \"react-alert\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport MetaData from \"../layout/MetaData\";\r\n\r\nconst categories = [\r\n  \"Laptop\",\r\n  \"Footwear\",\r\n  \"Bottom\",\r\n  \"Tops\",\r\n  \"Attire\",\r\n  \"Camera\",\r\n  \"SmartPhones\",\r\n];\r\n\r\nconst Products = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const alert = useAlert();\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [price, setPrice] = useState([0, 25000]);\r\n  const [category, setCategory] = useState(\"\");\r\n\r\n  const [ratings, setRatings] = useState(0);\r\n\r\n  const {\r\n    products,\r\n    loading,\r\n    error,\r\n    productsCount,\r\n    resultPerPage,\r\n    filteredProductsCount,\r\n  } = useSelector((state) => state.products);\r\n\r\n  const keyword = match.params.keyword;\r\n\r\n  const setCurrentPageNo = (e) => {\r\n    setCurrentPage(e);\r\n  };\r\n\r\n  const priceHandler = (event, newPrice) => {\r\n    setPrice(newPrice);\r\n  };\r\n  let count = filteredProductsCount;\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      alert.error(error);\r\n      dispatch(clearErrors());\r\n    }\r\n\r\n    dispatch(getProduct(keyword, currentPage, price, category, ratings));\r\n  }, [dispatch, keyword, currentPage, price, category, ratings, alert, error]);\r\n\r\n  return (\r\n    <Fragment>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Fragment>\r\n          <MetaData title=\"PRODUCTS -- ECOMMERCE\" />\r\n          <h2 className=\"productsHeading\">Products</h2>\r\n\r\n          <div className=\"products\">\r\n            {products &&\r\n              products.map((product) => (\r\n                <ProductCard key={product._id} product={product} />\r\n              ))}\r\n          </div>\r\n\r\n          <div className=\"filterBox\">\r\n            <Typography>Price</Typography>\r\n            <Slider\r\n              value={price}\r\n              onChange={priceHandler}\r\n              valueLabelDisplay=\"auto\"\r\n              aria-labelledby=\"range-slider\"\r\n              min={0}\r\n              max={25000}\r\n            />\r\n\r\n            <Typography>Categories</Typography>\r\n            <ul className=\"categoryBox\">\r\n              {categories.map((category) => (\r\n                <li\r\n                  className=\"category-link\"\r\n                  key={category}\r\n                  onClick={() => setCategory(category)}\r\n                >\r\n                  {category}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n\r\n            <fieldset>\r\n              <Typography component=\"legend\">Ratings Above</Typography>\r\n              <Slider\r\n                value={ratings}\r\n                onChange={(e, newRating) => {\r\n                  setRatings(newRating);\r\n                }}\r\n                aria-labelledby=\"continuous-slider\"\r\n                valueLabelDisplay=\"auto\"\r\n                min={0}\r\n                max={5}\r\n              />\r\n            </fieldset>\r\n          </div>\r\n          {resultPerPage < count && (\r\n            <div className=\"paginationBox\">\r\n              <Pagination\r\n                activePage={currentPage}\r\n                itemsCountPerPage={resultPerPage}\r\n                totalItemsCount={productsCount}\r\n                onChange={setCurrentPageNo}\r\n                nextPageText=\"Next\"\r\n                prevPageText=\"Prev\"\r\n                firstPageText=\"1st\"\r\n                lastPageText=\"Last\"\r\n                itemClass=\"page-item\"\r\n                linkClass=\"page-link\"\r\n                activeClass=\"pageItemActive\"\r\n                activeLinkClass=\"pageLinkActive\"\r\n              />\r\n            </div>\r\n          )}\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}