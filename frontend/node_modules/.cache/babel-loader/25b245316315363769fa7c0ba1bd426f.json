{"ast":null,"code":"import React,{Fragment}from\"react\";import{useSelector}from\"react-redux\";import{Redirect,Route}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{isAdmin,component:Component,...rest}=_ref;const{loading,isAuthenticated,user}=useSelector(state=>state.user);return/*#__PURE__*/_jsx(Fragment,{children:loading===false&&/*#__PURE__*/_jsx(Route,{...rest,render:props=>{if(isAuthenticated===false){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}if(isAdmin===true&&user.role!==\"admin\"){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}return/*#__PURE__*/_jsx(Component,{...props});}})});};export default ProtectedRoute;","map":{"version":3,"names":["React","Fragment","useSelector","Redirect","Route","jsx","_jsx","ProtectedRoute","_ref","isAdmin","component","Component","rest","loading","isAuthenticated","user","state","children","render","props","to","role"],"sources":["C:/Users/acer/IdeaProjects/mern/frontend/src/component/Route/ProtectedRoute.js"],"sourcesContent":["import React, { Fragment } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ isAdmin, component: Component, ...rest }) => {\r\n  const { loading, isAuthenticated, user } = useSelector((state) => state.user);\r\n\r\n  return (\r\n    <Fragment>\r\n      {loading === false && (\r\n        <Route\r\n          {...rest}\r\n          render={(props) => {\r\n            if (isAuthenticated === false) {\r\n              return <Redirect to=\"/login\" />;\r\n            }\r\n\r\n            if (isAdmin === true && user.role !== \"admin\") {\r\n              return <Redirect to=\"/login\" />;\r\n            }\r\n\r\n            return <Component {...props} />;\r\n          }}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,QAAQ,CAAEC,KAAK,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnD,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAgD,IAA/C,CAAEC,OAAO,CAAEC,SAAS,CAAEC,SAAS,CAAE,GAAGC,IAAK,CAAC,CAAAJ,IAAA,CAChE,KAAM,CAAEK,OAAO,CAAEC,eAAe,CAAEC,IAAK,CAAC,CAAGb,WAAW,CAAEc,KAAK,EAAKA,KAAK,CAACD,IAAI,CAAC,CAE7E,mBACET,IAAA,CAACL,QAAQ,EAAAgB,QAAA,CACNJ,OAAO,GAAK,KAAK,eAChBP,IAAA,CAACF,KAAK,KACAQ,IAAI,CACRM,MAAM,CAAGC,KAAK,EAAK,CACjB,GAAIL,eAAe,GAAK,KAAK,CAAE,CAC7B,mBAAOR,IAAA,CAACH,QAAQ,EAACiB,EAAE,CAAC,QAAQ,CAAE,CAAC,CACjC,CAEA,GAAIX,OAAO,GAAK,IAAI,EAAIM,IAAI,CAACM,IAAI,GAAK,OAAO,CAAE,CAC7C,mBAAOf,IAAA,CAACH,QAAQ,EAACiB,EAAE,CAAC,QAAQ,CAAE,CAAC,CACjC,CAEA,mBAAOd,IAAA,CAACK,SAAS,KAAKQ,KAAK,CAAG,CAAC,CACjC,CAAE,CACH,CACF,CACO,CAAC,CAEf,CAAC,CAED,cAAe,CAAAZ,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module"}